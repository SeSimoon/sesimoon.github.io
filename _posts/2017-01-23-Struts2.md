---
layout: post
title:  "Struts2"
date:   2017-01-22
excerpt: "本篇介绍了Struts2的相关知识概述"
tag:
- Java 
- Struts
- SSH框架
comments: false
---


# <center>搭建Struts2开发环境</center>  

>步骤：  
>1.下载jar包  
>2.编写Sturts2配置文件  
>3.在web.xml中配置    

## 1.下载开发Struts2应用所依赖的jar包  

**开发Struts2程序最少需要的jar包：** 

{% highlight html %}
struts2-core-2.x.x.jar:    	 	Struts2框架的核心类库
xwork-2.x.x.jar:			XWork类库，Struts2在其上构建
ognl-2.6.x.jar:				对象图导航语言，Struts2框架通过其读写对象的属性
freemarker-2.3.x.jar:			Struts2的UI标签的模板使用FreeMarker编写
commons-logging-1.1.x.jar:		Struts2框架使用这个日志包来支持Log4J和JDK 1.4+的日志记录
commons-fileupload-1.2.1.jar: 		文件上传组件，2.1.6版本后需要加入此文件  
{% endhighlight %}

**ps:**在Struts2开发中，一般情况下最少导入的jar包，是去apps下的struts2-blank示例程序中copy。
{: .notice}
  

**struts2的目录结构：**  

{% highlight html %}
apps: 例子程序
docs: 文档
lib:  struts2框架所应用的jar包以及插件包				
src:  源代码  
     core  	  它是struts2的源代码
     xwork-core  struts2底层使用了xwork，即xwork的源代码
{% endhighlight %}


## 2.编写Sturts2配置文件  

Struts2默认的配置文件为struts.xml。  
可以copy示例程序中的该文件，放置于src下(此后该文件会自动部署到classes下) 。  


## 3.在web.xml中配置  
 
在web.xml配置的目的是为了让struts2框架可以运行。  
同样可以copy示例程序中的web.xml配置。

*** 


# <center>struts2的配置</center>  

>1.配置文件的加载顺序  
>2.Action的配置  
>3.常量配置  

## 1.配置文件的加载顺序  

![](http://wx3.sinaimg.cn/large/83e1667dgy1fc0p1vpbwsj216u0jqwk3.jpg)

{% highlight html %}
在开发中，后加载文件中的配置会将先加载文件中的配置覆盖。
(简易顺序)
default.properties
struts-default.xml
struts.xml
{% endhighlight %}


## 2.Action的配置  

{% highlight xml %}
<package name="default" namespace="/" extends="struts-default">
	<action name="hello" class="cn.itcast.action.HelloAction"
		method="say">
		<result name="good">/hello.jsp</result>
	</action>
</package>
{% endhighlight %}


1.**`<package>`**    
　　用于声明一个包，管理action。  
　　1.name       它用于声明一个包名，包名不能重复，也就是它是唯一的。   
　　2.namespace  它与action标签的name属性合并确定了一个唯一访问action的路径。  
　　3.extends    它代表继承的包名。  
　　4.abstract   它可以取值为true/false，如果为true，代表这个包是用于被继承的。
{: .notice}

2.**`<action>`**    
　　用于声明一个action。  
　　1.name    action的名称，它是唯一的(在同包内)，它与package中的namespace确定了访问action的路径。  
　　2.class   Action类的全名。  
　　3.method  要访问的Action类中的方法的名称，方法无参数，返回值为String。
{: .notice}

3.**`<result>`**   
　　用于确定返回结果类型。    
　　1.name  它与action中的方法返回值做对比，确定跳转路径。  
{: .notice}  

4.**`"struts-default"`**    
　　该包是在struts2-core-2.x.x.jar文件中的struts-default.xml中定义的。  
　　通常每个包都应该继承struts-default包。  
　　它定义了Struts2内部的众多拦截器和Result类型，Struts2很多核心的功能都是通过这些内置的拦截器实现的。
{: .notice}







