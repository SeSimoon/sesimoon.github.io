---
layout: post
title:  "MyBatis-一对一查询"
date:   2017-02-27
excerpt: "本篇介绍了MyBatis中"
tag:
- Java 
- MyBatis
- 一对一
- SSM框架
feature: http://i.imgur.com/Ds6S7lJ.png
comments: false
---  

><a href="#1">resultType实现一对一查询</a>  
><a href="#2">settings:全局参数配置</a>   
><a href="#3">typeAliases:类型别名</a>    

***

<a name="1"></a>
## <center>resultType实现一对一查询</center>  


**User：**

```java
public class User implements Serializable {
	private int id;
	private String username;// 用户姓名
	private String sex;// 性别
	private Date birthday;// 生日
	private String address;// 地址
	//多个订单
	private List<Orders> orderlist;

	//get、set方法 ...
}
```


**Orders：**

```java
public class Orders implements Serializable {
    private Integer id;
    private Integer userId;
    private String number;
    private Date createtime;
    private String note;  
    //关联用户信息
    private User user;  
    //订单明细
    private List<Orderdetail> orderdetails;
   
    //get、set方法 ...
}
```

需求：查询订单信息关联查询用户信息

由于该statement的返回值既有user的属性，也有order的属性，所以需要创建扩展类。  
即OrderCustom作为自定义pojo类，让它继承sql查询列较多的pojo类，也就是orders类。

```java
public class OrderCustom extends Orders {
	private String username;
	private String sex;
	private String address;
	
	public String getUsername() {
		return username;
	}
	public void setUsername(String username) {
		this.username = username;
	}
	public String getSex() {
		return sex;
	}
	public void setSex(String sex) {
		this.sex = sex;
	}
	public String getAddress() {
		return address;
	}
	public void setAddress(String address) {
		this.address = address;
	}
	@Override
	public String toString() {
		return "OrderCustom [username=" + username + ", sex=" + sex
				+ ", address=" + address + "]";
	}
}
```


**map.xml：**

```xml
<select id="findOrderUserList" resultType="orderCustom">
	select orders.*, user.username, user.address from orders,user where orders.user_id = user_id
</select>
```


**map.java：**

```java
public interface OrdersMapperCustom {
	public List<OrderCustom> findOrderUserList();
}
```


***

<a name="2"></a>
## <center>resultMap实现一对一查询</center>  



